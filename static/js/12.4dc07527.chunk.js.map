{"version":3,"sources":["views/Login/Login.js"],"names":["Title","Typography","Login","history","user","useState","loading","setLoading","onFinish","e","email","password","auth","signInWithEmailAndPassword","then","loginState","message","success","push","catch","r","error","goRegister","goIndex","useEffect","hasLoginState","justify","xs","sm","md","lg","xl","className","level","defaultActiveKey","centered","TabPane","tab","name","wrapperCol","span","offset","layout","Item","rules","type","required","placeholder","prefix","allowClear","Password","block","htmlType","onClick","labelCol","connect","state","App","React","memo"],"mappings":"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","file":"static/js/12.4dc07527.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport './Login.less'\r\nimport {Button, Col, Form, Input, message, Row, Tabs, Typography} from \"antd\";\r\nimport {IdcardTwoTone, LockOutlined, MailOutlined} from \"@ant-design/icons\";\r\nimport {connect} from \"react-redux\";\r\nconst { Title } = Typography;\r\n\r\nfunction Login({history,user}){\r\n    const [loading,setLoading] = useState(false);\r\n    const onFinish = e=>{\r\n        setLoading(true)\r\n        const {email, password} = e\r\n        user.auth()\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then((loginState) => {\r\n                // 登录成功\r\n                message.success('登录成功！欢迎您'+email)\r\n                setLoading(false)\r\n                history.push('/');\r\n            }).catch(r=>{\r\n            message.error('邮箱或密码错误！')\r\n            setLoading(false);\r\n        });\r\n    }\r\n    const goRegister = ()=>{\r\n        history.push('/register')\r\n    }\r\n    const goIndex = ()=>{\r\n        history.push('/')\r\n    }\r\n    useEffect(()=>{\r\n        if(user.auth().hasLoginState())\r\n            goIndex();\r\n    },[])\r\n    return (\r\n            <Row justify=\"center\">\r\n                <Col xs={0} sm={16} md={12} lg={12} xl={8}>\r\n                    <div className='Login'>\r\n                        <div className=\"loginBox\">\r\n                            <Title level={3}>Welcome</Title>\r\n                            <Tabs defaultActiveKey=\"1\" centered>\r\n                                <Tabs.TabPane tab={<span><IdcardTwoTone />登录</span>} key=\"1\">\r\n                                    <Form\r\n                                        name=\"user\"\r\n                                        wrapperCol={{ span: 16,offset:4 }}\r\n                                        layout='Vertical'\r\n                                        onFinish={onFinish}\r\n                                    >\r\n                                        <Form.Item\r\n                                            name=\"email\"\r\n                                            rules={[\r\n                                                {\r\n                                                    type: 'email',\r\n                                                    message: '邮箱格式有误!',\r\n                                                },\r\n                                                {\r\n                                                    required: true,\r\n                                                    message: '请输入邮箱!',\r\n                                                },\r\n                                            ]}\r\n                                        >\r\n                                            <Input placeholder='邮箱' prefix={<MailOutlined />} allowClear/>\r\n                                        </Form.Item>\r\n                                        <Form.Item\r\n                                            name=\"password\"\r\n                                            rules={[{ required: true, message: '请输入密码!' }]}\r\n                                        >\r\n                                            <Input.Password placeholder='密码' prefix={<LockOutlined />} allowClear/>\r\n                                        </Form.Item>\r\n                                        <Form.Item>\r\n                                            <Button loading={loading} block type=\"primary\" htmlType=\"submit\">\r\n                                                登 录\r\n                                            </Button>\r\n                                        </Form.Item>\r\n                                    </Form>\r\n                                    <div className='set'>\r\n                                        <Button type='link' onClick={goRegister}>注册</Button>\r\n                                        <Button type='link' onClick={goIndex}>返回首页</Button>\r\n                                    </div>\r\n                                </Tabs.TabPane>\r\n                            </Tabs>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n                <Col xs={24} sm={0} md={0} lg={0} xl={0}>\r\n                    <div className='Login'>\r\n                        <div className=\"loginBoxPhone\">\r\n                            <Title level={3}>Welcome</Title>\r\n                            <Tabs defaultActiveKey=\"1\" centered>\r\n                                <Tabs.TabPane tab={<span><IdcardTwoTone />登录</span>} key=\"1\">\r\n                                    <Form\r\n                                        name=\"user\"\r\n                                        labelCol={{ span: 8 }}\r\n                                        wrapperCol={{ span: 16,offset:0 }}\r\n                                        layout='Vertical'\r\n                                        onFinish={onFinish}\r\n                                    >\r\n                                        <Form.Item\r\n                                            name=\"email\"\r\n                                            rules={[\r\n                                                {\r\n                                                    type: 'email',\r\n                                                    message: '邮箱格式有误!',\r\n                                                },\r\n                                                {\r\n                                                    required: true,\r\n                                                    message: '请输入邮箱!',\r\n                                                },\r\n                                            ]}\r\n                                        >\r\n                                            <Input placeholder='邮箱' prefix={<MailOutlined />} allowClear/>\r\n                                        </Form.Item>\r\n                                        <Form.Item\r\n                                            name=\"password\"\r\n                                            rules={[{ required: true, message: '请输入密码!' }]}\r\n                                        >\r\n                                            <Input.Password placeholder='密码' prefix={<LockOutlined />} allowClear/>\r\n                                        </Form.Item>\r\n                                        <Form.Item>\r\n                                            <Button loading={loading} block type=\"primary\" htmlType=\"submit\">\r\n                                                登 录\r\n                                            </Button>\r\n                                        </Form.Item>\r\n                                    </Form>\r\n                                    <div className='set'>\r\n                                        <Button type='link' onClick={goRegister}>注册</Button>\r\n                                        <Button type='link' onClick={goIndex}>返回首页</Button>\r\n                                    </div>\r\n                                </Tabs.TabPane>\r\n                            </Tabs>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n    )\r\n}\r\n\r\nconst mapState = state=>({user:state.App})\r\n\r\nexport default connect(mapState,null)(React.memo(Login))\r\n"],"sourceRoot":""}